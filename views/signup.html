<!DOCTYPE html>
<html>
<head>
    <title>Signup</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-5">

<h2>Signup</h2>

<form id="signupForm">
    <input class="form-control mb-2" placeholder="Username" id="username">
    <input class="form-control mb-2" placeholder="First Name" id="firstname">
    <input class="form-control mb-2" placeholder="Last Name" id="lastname">
    <input class="form-control mb-2" type="password" placeholder="Password" id="password">
    <button class="btn btn-primary">Signup</button>
</form>

<script>
document.getElementById("signupForm").addEventListener("submit", async (e) => {

    e.preventDefault()

    const user = {
        username: username.value,
        firstname: firstname.value,
        lastname: lastname.value,
        password: password.value
    }

    const res = await fetch("/api/signup", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(user)
    })

    const data = await res.json()
    alert(data.message || data.error)

})
</script>

</body>
</html>